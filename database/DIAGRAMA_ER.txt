/* ===================================
   DIAGRAMA ENTIDAD-RELACIÃ“N
   Bolsa de Trabajo FIS-UNCP
   =================================== */



    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚           ESTUDIANTES           â”‚                    â”‚            EMPRESAS             â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ ğŸ”‘ id_estudiante (PK)          â”‚                    â”‚ ğŸ”‘ id_empresa (PK)             â”‚
    â”‚ ğŸ‘¤ nombres                      â”‚                    â”‚ ğŸ¢ nombre                       â”‚
    â”‚ ğŸ‘¤ apellidos                    â”‚                    â”‚ ğŸ†” ruc (UNIQUE)                â”‚
    â”‚ ğŸ†” dni (UNIQUE)                â”‚                    â”‚ ğŸ“§ correo (UNIQUE)              â”‚
    â”‚ ğŸ“§ correo (UNIQUE)              â”‚                    â”‚ ğŸ”’ contrasena_hash              â”‚
    â”‚ ğŸ‚ anio_nacimiento              â”‚                    â”‚ ğŸ“ descripcion                  â”‚
    â”‚ ğŸ”’ contrasena_hash              â”‚                    â”‚ ğŸ–¼ï¸ logo                         â”‚
    â”‚ ğŸ“¸ foto_perfil                  â”‚                    â”‚ ğŸ¥ video_presentacion           â”‚
    â”‚ ğŸ“„ cv_archivo                   â”‚                    â”‚ ğŸ“… fecha_registro               â”‚
    â”‚ ğŸ“… fecha_registro               â”‚                    â”‚ âœ… activo                       â”‚
    â”‚ âœ… activo                       â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                      â”‚
                     â”‚                                                       â”‚
                     â”‚                                                       â”‚ 1:N
                     â”‚ 1:N                                                   â”‚
                     â”‚                                                       â–¼
                     â–¼                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚        OFERTAS_LABORALES        â”‚
    â”‚          POSTULACIONES          â”‚         â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤         â”‚ ğŸ”‘ id_oferta (PK)              â”‚
    â”‚ ğŸ”‘ id_postulacion (PK)         â”‚         â”‚ ğŸ”— id_empresa (FK)             â”‚
    â”‚ ğŸ”— id_estudiante (FK)          â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤ ğŸ“ titulo                       â”‚
    â”‚ ğŸ”— id_oferta (FK)              â”‚         â”‚ ğŸ“ descripcion                  â”‚
    â”‚ ğŸ“… fecha_postulacion            â”‚         â”‚ ğŸ“‹ requisitos                   â”‚
    â”‚ ğŸ“Š estado                       â”‚         â”‚ ğŸ’° salario_min                  â”‚
    â”‚ ğŸ’¬ comentarios                  â”‚         â”‚ ğŸ’° salario_max                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚ ğŸ¢ modalidad                    â”‚
                     â–²                          â”‚ ğŸ“ ubicacion                    â”‚
                     â”‚                          â”‚ ğŸ“… fecha_publicacion            â”‚
                     â”‚ N:1                      â”‚ â° fecha_cierre                 â”‚
                     â”‚                          â”‚ âœ… activo                       â”‚
                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                 â”‚
                                                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                  â”‚
                                                                  â”‚ 1:N
                                                                  â”‚
                                                                  â–¼
                                               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                               â”‚       AUDITORIA_OFERTAS         â”‚
                                               â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                               â”‚ ğŸ”‘ id_auditoria (PK)           â”‚
                                               â”‚ ğŸ”— id_oferta (FK)              â”‚
                                               â”‚ ğŸ”— id_empresa                   â”‚
                                               â”‚ ğŸ“ accion                       â”‚
                                               â”‚ ğŸ“… fecha_accion                 â”‚
                                               â”‚ ğŸ‘¤ usuario_sistema              â”‚
                                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

/* ===================================
   RELACIONES Y CARDINALIDADES
   =================================== */

1. EMPRESAS (1) â†â†’ (N) OFERTAS_LABORALES
   - Una empresa puede crear mÃºltiples ofertas laborales
   - Cada oferta pertenece a una sola empresa

2. OFERTAS_LABORALES (1) â†â†’ (N) POSTULACIONES
   - Una oferta puede recibir mÃºltiples postulaciones
   - Cada postulaciÃ³n es para una sola oferta

3. ESTUDIANTES (1) â†â†’ (N) POSTULACIONES
   - Un estudiante puede realizar mÃºltiples postulaciones
   - Cada postulaciÃ³n es de un solo estudiante

4. OFERTAS_LABORALES (1) â†â†’ (N) AUDITORIA_OFERTAS
   - Una oferta puede tener mÃºltiples registros de auditorÃ­a
   - Cada registro de auditorÃ­a pertenece a una sola oferta

5. ESTUDIANTES (N) â†â†’ (M) OFERTAS_LABORALES (a travÃ©s de POSTULACIONES)
   - RelaciÃ³n muchos a muchos entre estudiantes y ofertas
   - La tabla POSTULACIONES actÃºa como tabla intermedia

/* ===================================
   RESTRICCIONES Y CONSTRAINTS
   =================================== */

âœ… CLAVES PRIMARIAS:
   - Cada tabla tiene una clave primaria auto-incremental

âœ… CLAVES FORÃNEAS:
   - OfertasLaborales.id_empresa â†’ Empresas.id_empresa
   - Postulaciones.id_estudiante â†’ Estudiantes.id_estudiante
   - Postulaciones.id_oferta â†’ OfertasLaborales.id_oferta
   - AuditoriaOfertas.id_oferta â†’ OfertasLaborales.id_oferta

âœ… RESTRICCIONES ÃšNICAS:
   - Estudiantes: dni, correo
   - Empresas: ruc, correo
   - Administradores: usuario, correo
   - Postulaciones: (id_estudiante, id_oferta) - Evita postulaciones duplicadas

âœ… CHECKS:
   - DNI: 8 dÃ­gitos numÃ©ricos
   - RUC: 11 dÃ­gitos numÃ©ricos
   - Correos: formato email vÃ¡lido
   - Nombres/Apellidos: solo letras y espacios
   - Salarios: salario_min <= salario_max
   - Estados: valores predefinidos
   - Modalidad: Presencial, Remoto, HÃ­brido

âœ… ÃNDICES:
   - Ãndices en campos de bÃºsqueda frecuente (DNI, correo, RUC, fechas)
   - Ãndices en claves forÃ¡neas para mejorar JOINs

/* ===================================
   ENTIDADES Y ATRIBUTOS
   =================================== */

ğŸ“ ESTUDIANTES:
   - InformaciÃ³n personal (nombres, apellidos, DNI, correo)
   - Datos acadÃ©micos (aÃ±o nacimiento para edad)
   - Archivos (foto perfil, CV)
   - Control (contraseÃ±a, fecha registro, estado activo)

ğŸ¢ EMPRESAS:
   - InformaciÃ³n corporativa (nombre, RUC, correo)
   - PresentaciÃ³n (descripciÃ³n, logo, video)
   - Control (contraseÃ±a, fecha registro, estado activo)

ğŸ‘‘ ADMINISTRADORES:
   - Datos de acceso (usuario, contraseÃ±a)
   - InformaciÃ³n personal (nombre, correo)
   - Control (fecha creaciÃ³n, estado activo)

ğŸ’¼ OFERTAS_LABORALES:
   - Contenido (tÃ­tulo, descripciÃ³n, requisitos)
   - Condiciones (salarios, modalidad, ubicaciÃ³n)
   - Control (fechas publicaciÃ³n/cierre, estado activo)

ğŸ“‹ POSTULACIONES:
   - RelaciÃ³n estudiante-oferta
   - Estado del proceso (Pendiente, Revisado, Seleccionado, Rechazado)
   - ComunicaciÃ³n (comentarios de la empresa)
   - Control (fecha postulaciÃ³n)

ğŸ“Š AUDITORIA_OFERTAS:
   - Registro de cambios en ofertas
   - Trazabilidad (acciÃ³n, fecha, usuario)
   - Cumplimiento normativo

/* ===================================
   FLUJO DE DATOS PRINCIPAL
   =================================== */

1. ğŸ¢ EMPRESA se registra en el sistema
2. ğŸ¢ EMPRESA crea OFERTAS_LABORALES
3. ğŸ“ ESTUDIANTE se registra en el sistema
4. ğŸ“ ESTUDIANTE ve ofertas disponibles
5. ğŸ“ ESTUDIANTE crea POSTULACIONES a ofertas
6. ğŸ¢ EMPRESA revisa POSTULACIONES recibidas
7. ğŸ¢ EMPRESA actualiza estado de POSTULACIONES
8. ğŸ‘‘ ADMINISTRADOR supervisa todo el proceso
9. ğŸ“Š AUDITORIA_OFERTAS registra cambios automÃ¡ticamente
